{"version":3,"sources":["movieItem.jsx","MovieTabs.jsx","paggination.jsx","index.js","utils.jsx"],"names":["MovieItem","state","willWatch","this","props","movie","removeMovie","addMovieToWishList","removeMovieFromWL","className","src","poster_path","alt","title","vote_average","type","onClick","setState","React","Component","MovieTabs","console","log","nextProps","nextState","nextContext","sort","sorting","sortMovies","clickHandler","value","generateClass","classNames","Paggination","total_pages","current_page","changePage","role","href","aria-disabled","e","MovieList","operations","timeout","getMovies","fetch","then","result","json","data","movies","results","page","filter","id","currentState","wishList","m","method","direction","clearTimeout","setTimeout","show","like","bind","prevProps","prevState","map","mov","i","key","length","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a896abf4.chunk.js","sourcesContent":["import React from 'react';\n\nexport class MovieItem extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n            willWatch: false\n        }\n    }\n\n    render() {\n        const {movie, removeMovie, addMovieToWishList, removeMovieFromWL } = this.props;\n        return (\n            <div className=\"col-3 mb-4 \">\n                <div className=\"card\">\n                    <img className=\"card-img-top\" src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`} alt=\"\"/>\n                    <div className=\"card-body\">\n                        <h6 className=\"card-title\">{movie.title}</h6>\n                        <div>\n                            <p>Rating: {movie.vote_average}</p>\n                            {this.state.willWatch ?\n                                <button type=\"button\"\n                                        className=\"btn btn-success\"\n                                        onClick={() => {\n                                            this.setState({\n                                                willWatch: false\n                                            });\n                                            removeMovieFromWL(movie)\n                                        }}\n                                        >\n                                    Watched\n                                </button>\n                            :\n                                <button type=\"button\"\n                                        className=\"btn btn-secondary\"\n                                        onClick={() => {\n                                            this.setState({\n                                                willWatch: true\n                                            });\n                                            addMovieToWishList(movie)\n                                        }}>\n                                    Will watch\n                                </button>\n                            }\n\n                        </div>\n                        <button type=\"button\"\n                                onClick={() => removeMovie(movie)}\n                        >delete</button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n};","import * as React from 'react';\nimport classNames from 'classnames';\n\nexport class MovieTabs extends React.Component {\n\n    componentDidMount() {\n        console.log(`Movie Did Mount`)\n    }\n\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        if (this.props.sort !== nextProps.sort) {\n            return true;\n        }\n        return false;\n    }\n\n    render() {\n        console.log(`movie render`);\n        const { sort: sorting, sortMovies } = this.props;\n        const clickHandler = (value) => () => sortMovies(value);\n        const generateClass = (value) => {\n            return classNames(`nav-link`, {'active': sorting === value})\n        };\n        return (\n            <ul className=\"tab nav nav-pills mb-4\">\n                <li className=\"nav-item\">\n                    <button type=\"button\"\n                            className={generateClass(`popularity.desc`)}\n                            onClick={clickHandler(`popularity.desc`)}>\n                        Sort Popularity\n                    </button>\n                </li>\n                <li className=\"nav-item\">\n                    <button type=\"button\"\n                            className={generateClass(`revenue.desc`)}\n                            onClick={clickHandler(`revenue.desc`)}>\n                        Sort Revenue\n                    </button>\n                </li>\n                <li className=\"nav-item\">\n                    <button type=\"button\"\n                            className={generateClass(`vote_average.desc`)}\n                            onClick={clickHandler(`vote_average.desc`)}>\n                        Sort Vote average\n                    </button>\n                </li>\n            </ul>\n        )\n    }\n}\n","import React from \"react\";\nimport classNames from 'classnames';\n\nexport const Paggination = (props) => {\n    const {total_pages, current_page, changePage} = props;\n    return (\n        <div className=\"row\">\n            <p className=\"col\">Total pages {total_pages}</p>\n            <div className=\"w-100\"/>\n            <a role=\"button\"\n               href=\"#\"\n               className={classNames(`col btn btn-primary`, {'disabled': current_page <= 1})}\n               aria-disabled={current_page <= 1}\n               onClick={(e) => changePage(`-`)}\n            >{`<`}</a>\n            <span className=\"col align-self-center text-center\">{current_page}</span>\n            <a role=\"button\"\n               href=\"#\"\n               className={classNames(`col btn btn-primary`, {'disabled': current_page >= total_pages})}\n               onClick={(e) => changePage(`+`)}\n            >></a>\n        </div >\n    )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\n//import * as serviceWorker from './serviceWorker';\nimport { MovieItem } from \"./movieItem\";\nimport { MovieTabs } from \"./MovieTabs\";\nimport { API_KEY_3, API_URL } from \"./utils\";\nimport { Paggination } from \"./paggination\";\n\nfunction Image(props) {\n    return <img src={props.src} alt={props.alt}/>\n}\n\n//\n\nclass MovieList extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: false,\n            like: false,\n            movies: [],\n            wishList: [],\n            sorting: `popularity.desc`,\n            current_page: 1,\n            total_pages: 0\n        };\n\n        this.removeMovie = this.removeMovie.bind(this);\n        console.log(`App Constructor`);\n    }\n    operations = {\n        \"+\": value => ++value,\n        \"-\": value => --value\n    };\n    timeout = null;\n\n    componentDidMount() {\n        console.log(`App Did Mount`);\n        this.getMovies();\n    }\n    componentDidUpdate(prevProps, prevState) {\n        console.log(`App Did Update`);\n        if(prevState.sorting !== this.state.sorting || prevState.current_page !== this.state.current_page) {\n            this.getMovies();\n        }\n    }\n    getMovies = () => {\n        fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&page=${this.state.current_page}&sort_by=${this.state.sorting}`)\n            .then(result => result.json())\n            .then(data => {\n                this.setState({\n                    movies: data.results,\n                    current_page: data.page,\n                    total_pages: data.total_pages\n                })\n            })\n    };\n\n    removeMovie = (movie) => {\n        this.setState({movies: this.state.movies.filter((e) => movie.id !== e.id)})\n    };\n    addMovieToWishList = movie => {\n        this.setState((currentState, props) =>  {\n            return {wishList: [...currentState.wishList, movie]}\n            }\n        )\n    };\n    removeMovieFromWL = (movie) => {\n        this.setState((currentState, props) => {\n            return currentState.wishList = currentState.wishList.filter((m) => movie.id !== m.id)\n        })\n    };\n    sortMovies = (method) => {\n        this.setState({\n            sorting: method\n        })\n    };\n    changePage = (direction) => {\n        if (this.timeout) {\n            clearTimeout(this.timeout);\n        }\n        this.timeout = setTimeout(() => {\n            this.setState({\n                current_page: this.operations[direction](this.state.current_page)\n            });\n        }, 100);\n    };\n\n    render() {\n        console.log(`App Render`);\n        return <div className=\"container mt-4\">\n            <div className=\"row\">\n                <div className=\"col-9\">\n                    <MovieTabs sort={this.state.sorting}\n                               sortMovies={this.sortMovies}/>\n                    <div className=\"row\">\n                        {\n                            this.state.movies.map((mov, i) => {\n                                return <MovieItem key={mov.id}\n                                                  movie={mov}\n                                                  removeMovie={this.removeMovie}\n                                                  addMovieToWishList={this.addMovieToWishList}\n                                                  removeMovieFromWL={this.removeMovieFromWL}\n                                />\n\n                            })\n                        }\n                    </div>\n                </div>\n                <div className=\"col-3\">\n                    <p>Will watch: {this.state.wishList.length}</p>\n                    <Paggination current_page={this.state.current_page}\n                                 total_pages={this.state.total_pages}\n                                 changePage={this.changePage} />\n                </div>\n            </div>\n        </div>\n    }\n}\n\nfunction App() {\n    return <MovieList/>\n}\n\nReactDOM.render(<App/>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";"],"sourceRoot":""}